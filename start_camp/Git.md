# Git
**분산 버전** 관리 시스템
- 중앙 집중형이 아님
- 백업본이 여러개 존재
---
### 버전 관리
변화를 기록하고 추적하는 것
- 과거 버전과 현재 버전의 변화 내용을 정리
- 현재 버전에 문제가 있을 경우
- 각 버전은 이전 버전으로부터 변경사항만을 저장하고 있음
- 버전을 되돌리는 것은 되돌려지는 버전의 내용을 지우는 방식

> 버전이 전체 저장 방식이 아닌 것은 작동의 편리성과 용량 문제 때문이다.
>
> 마지막 파일과 이전 변경사항만 남기기

### 중앙 vs 분산

- 중앙 집중식 : 버전은 중앙 서버에 저장되고 중앙 서버에서 파일을 가져와 다시 중앙에 업로드
- 분산식 : 버전을 여러 개의 복제된 저장소에 저장 및 정리
  - 같이 개발 가능
  - 변경된 부분만 받아서 사용 가능
  - 중앙서버 장애 회피 가능
  - 중앙서버 항시 연결이 필요 없기에 인터넷 연결이 안된 환경에서도 작업 가능(추후 전송)

## Git의 역할
- 코드의 버전을 관리
- 개발되어 온 과정 파악
- 이전 버전과의 차이 비교

## Git의 역사
리누스 토르발스가 개발

## Git의 영역
### 가상의 3가지 영역
1. Working Directory
2. Staging Area
3. Repository
   
> 이중 보이는 영역은 Working Directory 뿐임

### Working Directory
현재 작업하고 있는 디렉토리

### Staging Area
다음 버전에 포함시킬 파일들을 선택적으로 추가하거나 제외할 수 있는 중간 준비 영역

> 왜 중간에 준비 과정을 만들었을까?
> 1. 변경되었다는 사실을 올림
> 2. 일정 부분에서 수정이 필요함을 확인
> 3. 중간 대기실에서 확정이 되면 버전으로 등록함

### Repository
버전 이력과 파일들이 영구적으로 저장되는 영역
- 과거 버전일 수록 아래쪽에 쌓임
- 버전이 모여있는 공간을 Repository라고 함
- Working Directory에서 무조건 Staging Area를 거쳐와야 함

**commit** : Git에서 버전을 칭하는 용어
=> 변경된 파일들을 저장하는 행위
=> snapshot이라고도 함

## Git 함수
`git init` : 로컬 저장소 설정(초기화)
- git의 버전 관리를 시작할 디렉토리에서 진행
- git의 영역 지정
- 디렉토리 우측에 (master)가 생기면 Git 관리하에 들어감
- Git은 관리 디렉토리의 모든 하위 폴더나 파일에 영향을 미침

> Git 설정한 디렉토리의 하위 디렉토리에서 다시 Git을 설정할 경우
>
> 바깥 쪽 git 저장소는 안쪽의 git 저장소의 변경사항을 **추적할 수 없음**

실수로 잘못된 디렉토리에서 Git을 초기화한 경우
=> 숨겨진 폴더 (.git)을 삭제

`git add` : 변경사항이 있는 파일을 staging area에 추가

`git add .` : 현재 위치에 있는 모든 파일을 staging area에 등록

`git commit` : staging area에 있는 파일들을 저장소에 기록
- 버전을 생성하고 변경 이력을 남김

`git status` : git의 현재 로컬 저장소의 상태를 확인

`git log` : commit 히스토리 보기

`git log --oneline` : commit 목록 한줄로 보기

`git config --global -l` : git의 사용자 보기

## Git 실습
- untracked file : 한 번도 버전관리를 하지 않은 파일(Git이 추적 불가능한 파일)
  - 빨간색 : staging area에 올리지도 않음
  - 초록색 : untracked 상태를 벗어난 파일

- git add는 파일을 올리는 것이 아닌 파일을 만들었다는 행위 기록을 올림

- git commit의 이름은 message
  ```
  git commit -m
  ```
- 협업 시에 버전 제작자를 확인하기 위해 저자의 정보를 입력해야 함
- `git config --global`로 등록하면 해당 컴퓨터에서는 추가로 할 필요 x
- 버전을 확인하기 위해서는 `git log` 입력
- git은 난수를 통해 버전을 관리하므로 같은 message로 등록 가능
- 다만 사람을 위해서 버전 이름은 다르게 정하자
- 최종적으로는 온라인 저장소에 올려 공유